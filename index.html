<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¶∂‡¶¨‡ßç‡¶¶ ‡¶ï‡ßÅ‡¶á‡¶ú + ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { font-family: "Noto Sans Bengali", sans-serif; background: #f8f9fa; }
.quiz-card { max-width: 500px; margin: 30px auto; padding: 25px 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.word { font-size: 36px; font-weight: bold; margin-bottom: 10px; }
.result { margin-top: 10px; font-size: 18px; font-weight: 600; }
.btn-group-mcq { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
.btn-group-mcq .btn { width: 100%; min-height: 60px; font-size: 18px; }
.admin-panel { display:none; margin-top:40px; }
textarea { font-family: monospace; }
.correct { border: 2px solid green !important; }
.wrong { border: 2px solid red !important; }
</style>
</head>
<body>

<div class="container">

  <!-- Toggle -->
  <div class="text-end mt-3">
    <button class="btn btn-primary" onclick="showQuiz()">üéÆ ‡¶ï‡ßÅ‡¶á‡¶ú</button>
    <button class="btn btn-dark" onclick="showAdmin()">‚öôÔ∏è ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®</button>
  </div>

  <!-- Quiz -->
  <div id="quizSection">
    <div class="card quiz-card text-center">
      <div class="card-body">
        <div id="word" class="word">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>

        <div class="btn-group-mcq">
          <button class="btn btn-primary" onclick="checkAnswer(this)">A</button>
          <button class="btn btn-success" onclick="checkAnswer(this)">B</button>
          <button class="btn btn-warning" onclick="checkAnswer(this)">C</button>
          <button class="btn btn-danger" onclick="checkAnswer(this)">D</button>
        </div>

        <div class="result" id="result"></div>
        <button class="btn btn-secondary mt-3" onclick="nextWord()">‡¶™‡¶∞‡ßá‡¶∞ ‡¶∂‡¶¨‡ßç‡¶¶</button>
      </div>
    </div>
  </div>

  <!-- Admin -->
  <div id="adminPanel" class="admin-panel">
    <h3>üß© JSON ‡¶°‡ßá‡¶ü‡¶æ</h3>
    <button class="btn btn-info mb-2" onclick="toggleJson('words')">Words JSON</button>
    <button class="btn btn-info mb-2" onclick="toggleJson('origin')">Origin Words JSON</button>
    <div id="jsonWords" style="display:none;">
      <textarea id="jsonViewWords" class="form-control" rows="10" readonly></textarea>
    </div>
    <div id="jsonOrigin" style="display:none;">
      <textarea id="jsonViewOrigin" class="form-control" rows="10" readonly></textarea>
    </div>
  </div>

</div>

<script>
// ================== JSON ‡¶°‡ßá‡¶ü‡¶æ ==================
const words = [
  {"text":"‡¶ö‡¶®‡ßç‡¶¶‡ßç‡¶∞","type":"‡¶§‡ßé‡¶∏‡¶Æ"},
  {"text":"‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø","type":"‡¶§‡ßé‡¶∏‡¶Æ"},
  {"text":"‡¶®‡¶ï‡ßç‡¶∑‡¶§‡ßç‡¶∞","type":"‡¶§‡ßé‡¶∏‡¶Æ"},
  {"text":"‡¶π‡¶æ‡¶§","type":"‡¶§‡¶¶‡ßç‡¶≠‡¶¨"},
  {"text":"‡¶≠‡¶¨‡¶®","type":"‡¶§‡ßé‡¶∏‡¶Æ"},
  {"text":"‡¶ú‡ßç‡¶Ø‡ßã‡¶õ‡¶®‡¶æ","type":"‡¶Ö‡¶∞‡ßç‡¶ß-‡¶§‡ßé‡¶∏‡¶Æ"},
  {"text":"‡¶°‡¶æ‡¶¨","type":"‡¶¶‡ßá‡¶∂‡¶ø"}
];

const originWords = [
  {"text":"‡¶ï‡¶≤‡¶Æ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
  {"text":"‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
  {"text":"‡¶á‡¶â‡¶®‡¶ø‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶ø‡¶ü‡¶ø","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
  {"text":"‡¶Ü‡¶®‡¶æ‡¶∞‡¶∏","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"}
];

let allWords = [], currentWordIndex=-1, answered=false;
const originOptions = ["‡¶ö‡¶ø‡¶®‡¶æ","‡¶¨‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶ú","‡¶π‡¶ø‡¶®‡ßç‡¶¶‡¶ø","‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø","‡¶Ü‡¶∞‡¶¨‡¶ø","‡¶´‡¶æ‡¶∞‡¶∏‡¶ø","‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú","‡¶´‡¶∞‡¶æ‡¶∏‡¶ø","‡¶§‡ßÅ‡¶∞‡ßç‡¶ï‡¶ø"];

// ================== Helper ==================
function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    let j=Math.floor(Math.random()*(i+1));
    [arr[i], arr[j]]=[arr[j], arr[i]];
  }
  return arr;
}

function resetAllWords(){
  allWords = [...words, ...originWords];
  shuffle(allWords);
  currentWordIndex=-1;
}

// ================== Quiz ==================
function nextWord(){
  answered=false;
  currentWordIndex++;
  if(currentWordIndex>=allWords.length){ alert("‡¶∏‡¶¨ ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶∂‡ßá‡¶∑!"); return; }

  const w = allWords[currentWordIndex];
  document.getElementById("word").innerText=w.text;
  document.getElementById("result").innerText="";

  const btns=document.querySelectorAll(".btn-group-mcq .btn");
  btns.forEach(b=>{ b.disabled=false; b.classList.remove("correct","wrong"); delete b.dataset.type; });

  let options=[], correctIndex=Math.floor(Math.random()*4);

  if(w.language){
    let other=originOptions.filter(l=>l!==w.language);
    options=shuffle(other).slice(0,3);
    options.splice(correctIndex,0,w.language);
  } else {
    let types=["‡¶§‡ßé‡¶∏‡¶Æ","‡¶§‡¶¶‡ßç‡¶≠‡¶¨","‡¶Ö‡¶∞‡ßç‡¶ß-‡¶§‡ßé‡¶∏‡¶Æ","‡¶¶‡ßá‡¶∂‡¶ø"];
    let other=types.filter(t=>t!==w.type);
    options=shuffle(other).slice(0,3);
    options.splice(correctIndex,0,w.type);
  }

  btns.forEach((b,i)=>{ b.dataset.type=options[i]; b.innerText=String.fromCharCode(65+i)+". "+options[i]; });
}

function checkAnswer(btn){
  if(answered){ document.getElementById("result").innerText="‚ö†Ô∏è ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶®‡ßü"; return; }
  answered=true;
  const w=allWords[currentWordIndex];
  const correct=w.type || w.language;
  if(btn.dataset.type===correct){
    document.getElementById("result").innerHTML=`‚úÖ <span style="color:green">‡¶∏‡¶†‡¶ø‡¶ï: ${correct}</span>`;
    btn.classList.add("correct");
  } else {
    document.getElementById("result").innerHTML=`‚ùå ‡¶≠‡ßÅ‡¶≤! <span style="color:green">‡¶∏‡¶†‡¶ø‡¶ï: ${correct}</span>`;
    btn.classList.add("wrong");
  }
  document.querySelectorAll(".btn-group-mcq .btn").forEach(b=>b.disabled=true);
}

// ================== Admin ==================
function toggleJson(type){
  if(type==='words'){
    const box=document.getElementById("jsonWords");
    box.style.display = box.style.display==='none'?'block':'none';
    document.getElementById("jsonViewWords").value=JSON.stringify(words,null,2);
  } else {
    const box=document.getElementById("jsonOrigin");
    box.style.display = box.style.display==='none'?'block':'none';
    document.getElementById("jsonViewOrigin").value=JSON.stringify(originWords,null,2);
  }
}

// ================== Section Toggle ==================
function showQuiz(){ document.getElementById("quizSection").style.display="block"; document.getElementById("adminPanel").style.display="none"; }
function showAdmin(){ document.getElementById("quizSection").style.display="none"; document.getElementById("adminPanel").style.display="block"; }

// ================== Init ==================
window.onload=()=>{
  resetAllWords();
  showQuiz();
  nextWord();
};
</script>
</body>
</html>
