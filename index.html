<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶≠‡¶æ‡¶∑‡¶æ‡¶∞ ‡¶∂‡¶¨‡ßç‡¶¶ ‚Ä¶ </title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { font-family: "Noto Sans Bengali", sans-serif; background: #f8f9fa; }
.quiz-card { max-width: 500px; margin: 30px auto; padding: 25px 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.word { font-size: 36px; font-weight: bold; margin-bottom: 10px; }
.result { margin-top: 10px; font-size: 18px; font-weight: 600; }
.btn-group-mcq { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
.btn-group-mcq .btn { width: 100%; min-height: 60px; font-size: 18px; }
.admin-panel { display:none; margin-top:40px; }
.table td, .table th { vertical-align: middle; }
.jsonBox { display:none; margin-top:20px; }
textarea { font-family: monospace; }
</style>
</head>
<body>

<div class="container">

  <!-- Toggle Buttons -->
  <div class="text-end mt-3">
    <button id="quizBtn" class="btn btn-primary" onclick="showQuiz()">üéÆ ‡¶ï‡ßÅ‡¶á‡¶ú</button>
    <button id="adminBtn" class="btn btn-dark" onclick="showAdmin()">‚öôÔ∏è ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®</button>
  </div>

  <!-- Quiz Section -->
  <div id="quizSection">
    <div class="card quiz-card text-center">
      <div class="card-body">
        <div id="word" class="word">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>

        <div class="btn-group-mcq">
          <button class="btn btn-primary" onclick="checkAnswer(this)">A</button>
          <button class="btn btn-success" onclick="checkAnswer(this)">B</button>
          <button class="btn btn-warning" onclick="checkAnswer(this)">C</button>
          <button class="btn btn-danger" onclick="checkAnswer(this)">D</button>
        </div>

        <div class="result" id="result"></div>
        <button class="btn btn-secondary mt-3" onclick="nextWord()">‡¶™‡¶∞‡ßá‡¶∞ ‡¶∂‡¶¨‡ßç‡¶¶</button>
      </div>
    </div>
  </div>

  <!-- ================= Admin Panel ================= -->
  <div id="adminPanel" class="admin-panel">
    <h2 class="mb-4">üìë</h2>
    <button class="btn btn-danger mb-4" onclick="resetData()">‚ôªÔ∏èDefault</button>

    <!-- Words Section -->
    <h3>Words</h3>
    <table class="table table-bordered table-striped" id="wordsTable">
      <thead class="table-dark">
        <tr><th>#</th><th>‡¶∂‡¶¨‡ßç‡¶¶</th><th>‡¶ß‡¶∞‡¶®</th><th>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</th></tr>
      </thead><tbody></tbody>
    </table>
    <div class="row g-2 mb-3">
      <div class="col-md-6"><input id="wordText" class="form-control" placeholder="‡¶∂‡¶¨‡ßç‡¶¶"></div>
      <div class="col-md-4">
        <select id="wordType" class="form-select">
          <option value="‡¶§‡ßé‡¶∏‡¶Æ">‡¶§‡ßé‡¶∏‡¶Æ</option>
          <option value="‡¶§‡¶¶‡ßç‡¶≠‡¶¨">‡¶§‡¶¶‡ßç‡¶≠‡¶¨</option>
          <option value="‡¶Ö‡¶∞‡ßç‡¶ß-‡¶§‡ßé‡¶∏‡¶Æ">‡¶Ö‡¶∞‡ßç‡¶ß-‡¶§‡ßé‡¶∏‡¶Æ</option>
          <option value="‡¶¶‡ßá‡¶∂‡¶ø">‡¶¶‡ßá‡¶∂‡¶ø</option>
        </select>
      </div>
      <div class="col-md-2 d-grid"><button class="btn btn-success" onclick="addWord()">‚ûï ‡¶Ø‡ßã‡¶ó</button></div>
    </div>
    <button class="btn btn-info mb-3" onclick="toggleJson('words')">üìÑ View Words JSON</button>

    <!-- Origin Words Section -->
    <h3>Origin Words</h3>
    <table class="table table-bordered table-striped" id="originTable">
      <thead class="table-dark">
        <tr><th>#</th><th>‡¶∂‡¶¨‡ßç‡¶¶</th><th>‡¶≠‡¶æ‡¶∑‡¶æ</th><th>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</th></tr>
      </thead><tbody></tbody>
    </table>
    <div class="row g-2 mb-3">
      <div class="col-md-6"><input id="originText" class="form-control" placeholder="‡¶∂‡¶¨‡ßç‡¶¶"></div>
      <div class="col-md-4"><input id="originLang" class="form-control" placeholder="‡¶≠‡¶æ‡¶∑‡¶æ (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶Ü‡¶∞‡¶¨‡¶ø, ‡¶´‡¶æ‡¶∞‡¶∏‡¶ø, ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø)"></div>
      <div class="col-md-2 d-grid"><button class="btn btn-success" onclick="addOrigin()">‚ûï ‡¶Ø‡ßã‡¶ó</button></div>
    </div>
    <button class="btn btn-info mb-3" onclick="toggleJson('origin')">üìÑ View Origin Words JSON</button>

    <!-- JSON Viewer -->
    <div id="jsonBoxWords" class="jsonBox">
      <label class="fw-bold mt-3"></label>
      <textarea id="jsonViewWords" class="form-control" rows="10" readonly></textarea>
    </div>
    <div id="jsonBoxOrigin" class="jsonBox">
      <label class="fw-bold mt-3"></label>
      <textarea id="jsonViewOrigin" class="form-control" rows="10" readonly></textarea>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
// ---------------- ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶°‡ßá‡¶ü‡¶æ -----------------
const defaultData = {
  words: [
    { text: "‡¶ö‡¶®‡ßç‡¶¶‡ßç‡¶∞", type: "‡¶§‡ßé‡¶∏‡¶Æ" },
    { text: "‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø", type: "‡¶§‡ßé‡¶∏‡¶Æ" },
    { text: "‡¶®‡¶ï‡ßç‡¶∑‡¶§‡ßç‡¶∞", type: "‡¶§‡ßé‡¶∏‡¶Æ" },
    { text: "‡¶π‡¶æ‡¶§", type: "‡¶§‡¶¶‡ßç‡¶≠‡¶¨" },
    { text: "‡¶ú‡ßç‡¶Ø‡ßã‡¶õ‡¶®‡¶æ", type: "‡¶Ö‡¶∞‡ßç‡¶ß-‡¶§‡ßé‡¶∏‡¶Æ" },
    { text: "‡¶ï‡ßÅ‡ßú‡¶ø", type: "‡¶¶‡ßá‡¶∂‡¶ø" }
  ],
  originWords: [
{"text":"‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶à‡¶Æ‡¶æ‡¶®","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ì‡¶ú‡ßÅ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ï‡ßã‡¶∞‡¶¨‡¶æ‡¶®‡¶ø","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ú‡¶æ‡¶π‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶Æ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶§‡¶∏‡¶¨‡¶ø","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ú‡¶æ‡¶ï‡¶æ‡¶§","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶π‡¶ú","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶π‡¶æ‡¶¶‡¶ø‡¶∏","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶π‡¶æ‡¶∞‡¶æ‡¶Æ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶π‡¶æ‡¶≤‡¶æ‡¶≤","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶Ü‡¶¶‡¶æ‡¶≤‡¶§","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶Ü‡¶≤‡ßá‡¶Æ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶á‡¶®‡¶∏‡¶æ‡¶®","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶à‡¶¶","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶â‡¶ï‡¶ø‡¶≤","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ï‡¶æ‡¶®‡ßÅ‡¶®","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ï‡¶≤‡¶Æ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ï‡¶ø‡¶§‡¶æ‡¶¨","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ï‡ßá‡¶ö‡ßç‡¶õ‡¶æ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶®‡¶ó‡¶¶","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶¨‡¶æ‡¶ï‡¶ø","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶Æ‡¶π‡¶ï‡ßÅ‡¶Æ‡¶æ","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶Æ‡ßÅ‡¶®‡ßç‡¶∏‡ßá‡¶´","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶Æ‡ßã‡¶ï‡ßç‡¶§‡¶æ‡¶∞","language":"‡¶Ü‡¶∞‡¶¨‡¶ø"},
{"text":"‡¶ñ‡ßã‡¶¶‡¶æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶ó‡ßÅ‡¶®‡¶æ‡¶π","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶™‡ßü‡¶ó‡¶Æ‡ßç‡¶¨‡¶∞","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶´‡ßá‡¶∞‡ßá‡¶∂‡¶§‡¶æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶¨‡ßá‡¶π‡ßá‡¶∂‡¶§","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶∞‡ßã‡¶ú‡¶æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶ï‡¶æ‡¶∞‡¶ñ‡¶æ‡¶®‡¶æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶ö‡¶∂‡¶Æ‡¶æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶ú‡¶¨‡¶æ‡¶®‡¶¨‡¶®‡ßç‡¶¶‡¶ø","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶§‡ßã‡¶∂‡¶ï","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶¶‡¶´‡¶§‡¶∞","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶¶‡ßã‡¶ï‡¶æ‡¶®","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶¶‡¶∏‡ßç‡¶§‡¶ñ‡¶§","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶¶‡ßå‡¶≤‡¶§","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶¨‡¶æ‡¶¶‡¶∂‡¶æ‡¶π","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶¨‡ßá‡¶ó‡¶Æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶Æ‡ßá‡¶•‡¶∞","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶Ü‡¶¶‡¶Æ‡¶ø","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶Ü‡¶Æ‡¶¶‡¶æ‡¶®‡¶ø","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶ú‡¶æ‡¶®‡ßã‡ßü‡¶æ‡¶∞","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶ú‡¶ø‡¶®‡ßç‡¶¶‡¶æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶®‡¶Æ‡ßÅ‡¶®‡¶æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶¨‡¶¶‡¶Æ‡¶æ‡¶∂","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶∞‡¶´‡¶§‡¶æ‡¶®‡¶ø","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶π‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ","language":"‡¶´‡¶æ‡¶∞‡¶∏‡¶ø"},
{"text":"‡¶á‡¶â‡¶®‡¶ø‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶ø‡¶ü‡¶ø","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶á‡¶â‡¶®‡¶ø‡¶Ø‡¶º‡¶®","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶ï‡¶≤‡ßá‡¶ú","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶ü‡¶ø‡¶®","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶®‡¶≠‡ßá‡¶≤","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶®‡ßã‡¶ü","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶™‡¶æ‡¶â‡¶°‡¶æ‡¶∞","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶™‡ßá‡¶®‡ßç‡¶∏‡¶ø‡¶≤","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶´‡ßÅ‡¶ü‡¶¨‡¶≤","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶≤‡¶æ‡¶á‡¶¨‡ßç‡¶∞‡ßá‡¶∞‡¶ø","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶Ü‡¶´‡¶ø‡¶Æ","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶Ö‡¶´‡¶ø‡¶∏","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶á‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶¨‡¶æ‡¶ï‡ßç‡¶∏","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶¨‡ßã‡¶§‡¶≤","language":"‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø"},
{"text":"‡¶Ü‡¶®‡¶æ‡¶∞‡¶∏","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶Ü‡¶≤‡¶™‡¶ø‡¶®","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶Ü‡¶≤‡¶Æ‡¶æ‡¶∞‡¶ø","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶ó‡¶ø‡¶∞‡ßç‡¶ú‡¶æ","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶ó‡ßÅ‡¶¶‡¶æ‡¶Æ","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶ö‡¶æ‡¶¨‡¶ø","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶™‡¶æ‡¶â‡¶∞‡ßÅ‡¶ü‡¶ø","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶™‡¶æ‡¶¶‡ßç‡¶∞‡¶ø","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶¨‡¶æ‡¶≤‡¶§‡¶ø","language":"‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"},
{"text":"‡¶ï‡¶æ‡¶∞‡ßç‡¶§‡ßÅ‡¶ú","language":"‡¶´‡¶∞‡¶æ‡¶∏‡¶ø"},
{"text":"‡¶ï‡ßÅ‡¶™‡¶®","language":"‡¶´‡¶∞‡¶æ‡¶∏‡¶ø"},
{"text":"‡¶°‡¶ø‡¶™‡ßã","language":"‡¶´‡¶∞‡¶æ‡¶∏‡¶ø"},
{"text":"‡¶∞‡ßá‡¶∏‡ßç‡¶§‡ßã‡¶∞‡¶æ‡¶Å","language":"‡¶´‡¶∞‡¶æ‡¶∏‡¶ø"},
{"text":"‡¶á‡¶∏‡ßç‡¶ï‡¶æ‡¶™‡¶®","language":"‡¶ì‡¶≤‡¶®‡ßç‡¶¶‡¶æ‡¶ú"},
{"text":"‡¶ü‡ßá‡¶ï‡ßç‡¶ï‡¶æ","language":"‡¶ì‡¶≤‡¶®‡ßç‡¶¶‡¶æ‡¶ú"},
{"text":"‡¶§‡ßÅ‡¶∞‡ßÇ‡¶™","language":"‡¶ì‡¶≤‡¶®‡ßç‡¶¶‡¶æ‡¶ú"},
{"text":"‡¶∞‡ßÅ‡¶á‡¶§‡¶®","language":"‡¶ì‡¶≤‡¶®‡ßç‡¶¶‡¶æ‡¶ú"},
{"text":"‡¶π‡¶∞‡¶§‡¶®","language":"‡¶ì‡¶≤‡¶®‡ßç‡¶¶‡¶æ‡¶ú"},
{"text":"‡¶ñ‡¶®‡ßç‡¶¶‡¶∞","language":"‡¶ó‡ßÅ‡¶ú‡¶∞‡¶æ‡¶ü‡¶ø"},
{"text":"‡¶π‡¶∞‡¶§‡¶æ‡¶≤","language":"‡¶ó‡ßÅ‡¶ú‡¶∞‡¶æ‡¶ü‡¶ø"},
{"text":"‡¶ö‡¶æ‡¶π‡¶ø‡¶¶‡¶æ","language":"‡¶™‡¶æ‡¶û‡ßç‡¶ú‡¶æ‡¶¨‡¶ø"},
{"text":"‡¶∂‡¶ø‡¶ñ","language":"‡¶™‡¶æ‡¶û‡ßç‡¶ú‡¶æ‡¶¨‡¶ø"},
{"text":"‡¶ö‡¶æ‡¶ï‡¶∞","language":"‡¶§‡ßÅ‡¶∞‡ßç‡¶ï‡¶ø"},
{"text":"‡¶ö‡¶æ‡¶ï‡ßÅ","language":"‡¶§‡ßÅ‡¶∞‡ßç‡¶ï‡¶ø"},
{"text":"‡¶§‡ßã‡¶™","language":"‡¶§‡ßÅ‡¶∞‡ßç‡¶ï‡¶ø"},
{"text":"‡¶¶‡¶æ‡¶∞‡ßã‡¶ó‡¶æ","language":"‡¶§‡ßÅ‡¶∞‡ßç‡¶ï‡¶ø"},
{"text":"‡¶ö‡¶æ","language":"‡¶ö‡ßÄ‡¶®‡¶æ"},
{"text":"‡¶ö‡¶ø‡¶®‡¶ø","language":"‡¶ö‡ßÄ‡¶®‡¶æ"},
{"text":"‡¶´‡ßÅ‡¶ô‡ßç‡¶ó‡¶ø","language":"‡¶¨‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶ú"},
{"text":"‡¶≤‡ßÅ‡¶ô‡ßç‡¶ó‡¶ø","language":"‡¶¨‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶ú"},
{"text":"‡¶∞‡¶ø‡¶ï‡ßç‡¶∏‡¶æ","language":"‡¶ú‡¶æ‡¶™‡¶æ‡¶®‡¶ø"},
{"text":"‡¶π‡¶æ‡¶∞‡¶ø‡¶ï‡¶ø‡¶∞‡¶ø","language":"‡¶ú‡¶æ‡¶™‡¶æ‡¶®‡¶ø"}
  ]
};

// localStorage ‡¶è ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶∏‡¶æ‡¶®‡ßã
if(!localStorage.getItem("quizData")){
  localStorage.setItem("quizData", JSON.stringify(defaultData));
}

// ---------------- localStorage ‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡ßã‡¶° -----------------
let quizData = JSON.parse(localStorage.getItem("quizData"));
let words = quizData.words;
let originWords = quizData.originWords;

// ---------- Quiz Functions ----------
const originOptions = ["‡¶ö‡¶ø‡¶®‡¶æ","‡¶¨‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶ú","‡¶π‡¶ø‡¶®‡ßç‡¶¶‡¶ø","‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø","‡¶Ü‡¶∞‡¶¨‡¶ø","‡¶´‡¶æ‡¶∞‡¶∏‡¶ø","‡¶™‡¶∞‡ßç‡¶§‡ßÅ‡¶ó‡¶ø‡¶ú"];

let allWords = [...words, ...originWords];
let currentWordIndex = -1;
let answered = false;

// Shuffle function
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
shuffleArray(allWords);

function nextWord() {
  answered = false;
  currentWordIndex++;
  if(currentWordIndex >= allWords.length){
    alert("‡¶∏‡¶¨ ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶∂‡ßá‡¶∑!");
    return;
  }

  const currentWord = allWords[currentWordIndex];
  document.getElementById("word").innerText = currentWord.text;
  document.getElementById("result").innerText = "";

  const btns = document.querySelectorAll(".btn-group-mcq .btn");
  btns.forEach(b => b.disabled = false);

  let options = [];
  let correctIndex = Math.floor(Math.random()*4);

  if(currentWord.language){
    options = originOptions.filter(l => l !== currentWord.language);
    options = shuffleArray(options).slice(0,3);
    options.splice(correctIndex, 0, currentWord.language);
  } else {
    const types = ["‡¶§‡ßé‡¶∏‡¶Æ","‡¶§‡¶¶‡ßç‡¶≠‡¶¨","‡¶Ö‡¶∞‡ßç‡¶ß-‡¶§‡ßé‡¶∏‡¶Æ","‡¶¶‡ßá‡¶∂‡¶ø"];
    options = types.filter(t => t !== currentWord.type);
    options = shuffleArray(options).slice(0,3);
    options.splice(correctIndex, 0, currentWord.type);
  }

  btns.forEach((btn,index)=>{
    btn.dataset.type = options[index];
    btn.innerText = String.fromCharCode(65+index) + ". " + options[index];
  });
}

function checkAnswer(btnElement) {
  const result = document.getElementById("result");
  const currentWord = allWords[currentWordIndex];
  const selectedType = btnElement.dataset.type || "";

  if(answered){
    result.innerText = "‚ö†Ô∏è ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶®‡ßü";
    result.style.color = "orange";
    return;
  }

  answered = true;
  let correctAnswer = currentWord.type || currentWord.language;

  if(selectedType === correctAnswer){
    result.innerHTML = `‚úÖ <span style="color:green">‡¶∏‡¶†‡¶ø‡¶ï: ${correctAnswer}</span>`;
  } else {
    result.innerHTML = `‚ùå ‡¶≠‡ßÅ‡¶≤! <span style="color:green">‡¶∏‡¶†‡¶ø‡¶ï: ${correctAnswer}</span>`;
  }
}

// ---------- Admin Panel Functions ----------
function renderWords(){
  const tbody = document.querySelector("#wordsTable tbody");
  tbody.innerHTML = "";
  quizData.words.forEach((w,i)=>{
    tbody.innerHTML += `<tr>
      <td>${i+1}</td><td>${w.text}</td><td>${w.type}</td>
      <td>
        <button class="btn btn-sm btn-primary" onclick="editWord(${i})">‚úèÔ∏è</button>
        <button class="btn btn-sm btn-danger" onclick="deleteWord(${i})">üóëÔ∏è</button>
      </td>`;
  });
}

function renderOrigin(){
  const tbody = document.querySelector("#originTable tbody");
  tbody.innerHTML = "";
  quizData.originWords.forEach((o,i)=>{
    tbody.innerHTML += `<tr>
      <td>${i+1}</td><td>${o.text}</td><td>${o.language}</td>
      <td>
        <button class="btn btn-sm btn-primary" onclick="editOrigin(${i})">‚úèÔ∏è</button>
        <button class="btn btn-sm btn-danger" onclick="deleteOrigin(${i})">üóëÔ∏è</button>
      </td>`;
  });
}

function addWord(){
  const text = document.getElementById("wordText").value.trim();
  const type = document.getElementById("wordType").value;
  if(!text) return alert("‡¶∂‡¶¨‡ßç‡¶¶ ‡¶¶‡¶ø‡¶®!");
  quizData.words.push({text, type});
  saveData(); renderWords(); updateJsonView('words');
  document.getElementById("wordText").value="";
}

function editWord(i){
  const newText = prompt("‡¶∂‡¶¨‡ßç‡¶¶ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:", quizData.words[i].text);
  if(newText===null) return;
  const newType = prompt("‡¶ß‡¶∞‡¶® ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:", quizData.words[i].type);
  if(newType===null) return;
  quizData.words[i] = { text:newText.trim(), type:newType.trim() };
  saveData(); renderWords(); updateJsonView('words');
}

function deleteWord(i){
  if(confirm("‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")){
    quizData.words.splice(i,1);
    saveData(); renderWords(); updateJsonView('words');
  }
}

function addOrigin(){
  const text = document.getElementById("originText").value.trim();
  const language = document.getElementById("originLang").value.trim();
  if(!text || !language) return alert("‡¶∂‡¶¨‡ßç‡¶¶ ‡¶ì ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶¶‡¶ø‡¶®!");
  quizData.originWords.push({text, language});
  saveData(); renderOrigin(); updateJsonView('origin');
  document.getElementById("originText").value="";
  document.getElementById("originLang").value="";
}

function editOrigin(i){
  const newText = prompt("‡¶∂‡¶¨‡ßç‡¶¶ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:", quizData.originWords[i].text);
  if(newText===null) return;
  const newLang = prompt("‡¶≠‡¶æ‡¶∑‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:", quizData.originWords[i].language);
  if(newLang===null) return;
  quizData.originWords[i] = { text:newText.trim(), language:newLang.trim() };
  saveData(); renderOrigin(); updateJsonView('origin');
}

function deleteOrigin(i){
  if(confirm("‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")){
    quizData.originWords.splice(i,1);
    saveData(); renderOrigin(); updateJsonView('origin');
  }
}

function resetData(){
  if(confirm("‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶°‡¶æ‡¶ü‡¶æ‡ßü ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")){
    quizData = JSON.parse(JSON.stringify(defaultData));
    saveData(); renderWords(); renderOrigin(); updateJsonView('words'); updateJsonView('origin');
  }
}

function saveData(){
  localStorage.setItem("quizData", JSON.stringify(quizData));
  words = quizData.words;
  originWords = quizData.originWords;
  allWords = [...words, ...originWords];
}

function toggleJson(type){
  if(type==='words'){
    const box = document.getElementById("jsonBoxWords");
    box.style.display = box.style.display==='none'?'block':'none';
    updateJsonView('words');
  } else {
    const box = document.getElementById("jsonBoxOrigin");
    box.style.display = box.style.display==='none'?'block':'none';
    updateJsonView('origin');
  }
}

function updateJsonView(type){
  const arr = type==='words'? quizData.words : quizData.originWords;
  const lines = arr.map(o => JSON.stringify(o));
  if(type==='words'){
    document.getElementById("jsonViewWords").value = lines.join(",\n");
  } else {
    document.getElementById("jsonViewOrigin").value = lines.join(",\n");
  }
}

// ---------- Section Toggle ----------
function showQuiz(){
  document.getElementById("quizSection").style.display="block";
  document.getElementById("adminPanel").style.display="none";
}

function showAdmin(){
  document.getElementById("quizSection").style.display="none";
  document.getElementById("adminPanel").style.display="block";
}

// ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶≤‡ßã‡¶°
window.onload = ()=>{
  showQuiz();
  nextWord();
  renderWords();
  renderOrigin();
};
</script>
</body>
</html>
